@if(product){
<div class="bg-white rounde shadow-lg px-40 overflow-hidden mb-4 mt-4">
    <div class="flex ">

        <div class="w-6/12">
            <div class="flex flex-col gap-3">
                 <img [src]="mainImage" class="w-full h-96 shadow">
            <div class="flex justify-around shadow" >
          @for( url of product.images; track $index){
        <img [src]="url" alt="Product Thumbnail" class="w-4/12 h-auto mb-2 cursor-pointer" (click)="changeImage(url)">
          }
            
        </div>
            </div>
           
        </div>

        
        <div class="6/12">
         <h2 class="text-3xl font-bold text-gray-800 mb-2">{{product.name}}</h2>
    <p class="text-gray-700 mb-4">
        {{product.shortDescription}}
        
    </p>
    <div class="flex justify-between px-20 items-baseline">
        <div class="flex gap-2">
             <span class="!text-lg text-gray-500">Rs. <s>{{product.price}}</s></span>
             <span class="!text-lg text-orange-400">{{product.discount}}% OFF</span>
             <span class="!text-lg text-green-600">Rs. {{sellingPrice}}</span>
        </div>
<div class="flex gap-4 items-center">

<button mat-fab color="warn" (click)="addToWishList(product)">

@if(isInWishList(product)){
  <mat-icon>
 favorite
  </mat-icon>
}@else {
  <mat-icon>
  favorite_border
</mat-icon>
}
 </button>
@if(isProductInCart(product._id!)){
  <button mat-flat-button color="primary" class="shadow" (click)="addToCart(product)">
    Remove FromCart
  </button>
  
}@else{
  <button mat-flat-button color="primary" class="shadow" (click)="addToCart(product)">
    Add to Cart
  </button>
  
}

 </div>
       
   </div>
       </div>
       </div>
       
   

    <h3 class="text-lg font-semibold text-gray-800 mb-2">Product Details</h3>
<div class="border-t border-gray-200 pt-4">

   <pre> {{product.description}}</pre>
</div>
    @if(similarProducts.length){
        <div class="my-5">
    <h4 class="text-2xl font-bold mb-4">Similar Products</h4>
    <div class="flex justify-between gap-4">
      @for(product of newProducts ; track $index) {
        <div class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4 shadow rounded-md overflow-hidden">
          <app-product-card [product]="product"></app-product-card>
        </div>
      }
    </div>
    </div>
    }
  
    <h3 class="text-lg font-semibold text-gray-800 mb-4">Product Reviews</h3>

    <div class="border-t border-gray-200 py-4">
        <div class="flex items-center mb-2">
            <div class="w-10 h-10 flex items-center justify-center mr-3">JD</div>
            <div>
                <p class="text-gray-800 font-semibold">John Doe</p>
                <p class="text-sm text-gray-600">5 stars</p>
            </div>
        </div>
    </div>
 </div>
}@else {
    <h2>Loading...</h2>
}

